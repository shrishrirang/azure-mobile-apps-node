<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// ----------------------------------------------------------------------------
// Copyright (c) Microsoft Corporation. All rights reserved.
// ----------------------------------------------------------------------------
/**
The azure-mobile-apps module is the Nodejs implementation of Azure Mobile Apps
@module azure-mobile-apps
@see {@link http://azure.microsoft.com/en-us/services/app-service/mobile/ Azure Mobile Apps}
*/

ï»¿var loadConfiguration = require('./configuration'),
    environment = require('./utilities/environment'),
    logger = require('./logger'),
    utilities = require('./utilities'),
    path = require('path'),

    platforms = {
        express: require('./express'),
    },

    defaults = {
        platform: 'express',
        basePath: path.dirname(module.parent.filename),
        configFile: 'azureMobile',
        promiseConstructor: Promise,
        tableRootPath: '/tables',
        debug: environment.debug,
        version: 'node-' + require('../package.json').version,
        logging: {
            level: environment.debug ? 'debug' : 'info',
            transports: {
                Console: {
                    colorize: true,
                    timestamp: true,
                    showLevel: true
                }
            }
        },
        cors: {
            maxAge: 300,
            origins: ['localhost']
        },
        data: { },
        auth: { }
    };

/**
Creates an instance of the azure-mobile-apps server object for the platform specified in the configuration.
Express 4.x is currently the only supported platform.
@param {configuration} configuration
@returns {module:azure-mobile-apps/express}
*/
module.exports = function (configuration) {
    configuration = configuration || {};
    var configFile = path.resolve(configuration.basePath || defaults.basePath, configuration.configFile || defaults.configFile);
    configuration = utilities.assign(loadConfiguration.fromFile(configFile), defaults, configuration);
    loadConfiguration.fromEnvironment(configuration);
    logger.configure(configuration.logging);

    return platforms[configuration.platform](configuration);
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-azure-mobile-apps.html">/</a></li><li><a href="module-azure-mobile-apps_auth.html">auth</a></li><li><a href="module-azure-mobile-apps_auth_user.html">auth/user</a></li><li><a href="module-azure-mobile-apps_configuration.html">configuration</a></li><li><a href="module-azure-mobile-apps_cors.html">cors</a></li><li><a href="module-azure-mobile-apps_data.html">data</a></li><li><a href="module-azure-mobile-apps_express.html">express</a></li><li><a href="module-azure-mobile-apps_express_tables.html">express/tables</a></li><li><a href="module-azure-mobile-apps_express_tables_table.html">express/tables/table</a></li><li><a href="module-azure-mobile-apps_logger.html">logger</a></li><li><a href="module-azure-mobile-apps_query.html">query</a></li><li><a href="module-queryjs_Query.html">queryjs/Query</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Wed Sep 02 2015 14:03:51 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
